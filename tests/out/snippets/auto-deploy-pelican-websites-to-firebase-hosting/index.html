<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=yes" />
    <meta name="generator" content="Pelican 4.7.1" />
<meta name="author" content="Rehan Haider">
<meta name="keywords" content="pelican, firebase, github, python, github actions, deploy, hosting">
    <meta name="description" content=" A step by step guide to installing and configuring Pelican and hosting the final blog on Firebase Hosting ">
    <link rel="canonical" href="http://localhost:8080/snippets/auto-deploy-pelican-websites-to-firebase-hosting">

    <!-- Prefetches -->
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
    <link rel="dns-prefetch" href="https://www.googletagmanager.com" />
    <link rel="prefetch" as="script" href="/assets/js/app.js" />

    <!-- Title -->
    <title> Auto Deploy Pelican Websites to Firebase Hosting </title>
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/assets/img/icons/favicon.svg">
    <link rel="icon" type="image/png" href="/assets/img/icons/favicon.png">
    <!-- App icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="mask-icon" href="/assets/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="manifest" href="/assets/site.webmanifest">
    <meta name="msapplication-TileColor" content="#fdf6e3">
    <meta name="msapplication-config" content="/assets/browserconfig.xml">
    <meta name="theme-color" content="#fff">

    <!-- Social -->
    <meta property="og:title" content="Auto Deploy Pelican Websites to Firebase Hosting" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="<jinja2.runtime.BlockReference object at 0x7fdf77368a30>" />
    <meta property="og:image" content="/assets/img/banner.png" />
    <meta property="og:description" content="A step by step guide to installing and configuring Pelican and hosting the final blog on Firebase Hosting" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@cloudbytes_dev" />
    <meta name="twitter:title" content="Auto Deploy Pelican Websites to Firebase Hosting" />
    <meta name="twitter:description" content="A step by step guide to installing and configuring Pelican and hosting the final blog on Firebase Hosting" />
    <meta name="twitter:image" content="/assets/img/banner.png" />


    <!-- Theme -->
    <link rel="stylesheet" href="/assets/css/style.css">

    <!-- App -->
    <script defer src="/assets/js/app.js"></script>
    <!-- Ad
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0503340532690886"
        crossorigin="anonymous"></script>
         -->
</head>

<body>
    <!--Top nav-->
    <nav class="topnav">
<div style="visibility: visible;">
    <div id="search-open" class="item mega-dropdown" style="border-radius: 15px 0 0 15px;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">
            <path fill="currentColor"
                d="M120.5891,106.37506,96.5609,80.39355l-3.842,3.8457-4.35187-4.35187c.33368-.43195.667-.864.98346-1.30475A46.77661,46.77661,0,1,0,77.87956,89.85687q.99472-.68619,1.955-1.42987l4.34509,4.345-4.31427,4.31409,26.5097,23.5246a10.0585,10.0585,0,1,0,14.21405-14.23566ZM74.21977,74.22931a32.4793,32.4793,0,1,1,9.48859-22.94189A32.48241,32.48241,0,0,1,74.21977,74.22931Z" />
        </svg>
    </div>
</div>

<div class="item" style="border-radius: 0;">
    <a href="https://github.com/CloudBytesDotDev/CloudBytes.dev/discussions" target="_blank" rel="noopener"
        aria-label="GitHub">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
            <path fill="currentColor"
                d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
            </path>
        </svg>
    </a>
</div>

<div id="themeButton">
    <div id="dark" class="item">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <g class="fa-group">
                <path fill="currentColor"
                    d="M320 32L304 0l-16 32-32 16 32 16 16 32 16-32 32-16zm138.7 149.3L432 128l-26.7 53.3L352 208l53.3 26.7L432 288l26.7-53.3L512 208z"
                    class="fa-secondary"></path>
                <path fill="currentColor"
                    d="M332.2 426.4c8.1-1.6 13.9 8 8.6 14.5a191.18 191.18 0 0 1-149 71.1C85.8 512 0 426 0 320c0-120 108.7-210.6 227-188.8 8.2 1.6 10.1 12.6 2.8 16.7a150.3 150.3 0 0 0-76.1 130.8c0 94 85.4 165.4 178.5 147.7z"
                    class="fa-primary"></path>
            </g>
        </svg>
    </div>
    <div id="light" class="item">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <g class="fa-group">
                <path fill="currentColor"
                    d="M502.42 240.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.41-94.8a17.31 17.31 0 0 0-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4a17.31 17.31 0 0 0 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.41-33.5 47.3 94.7a17.31 17.31 0 0 0 31 0l47.31-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3a17.33 17.33 0 0 0 .2-31.1zm-155.9 106c-49.91 49.9-131.11 49.9-181 0a128.13 128.13 0 0 1 0-181c49.9-49.9 131.1-49.9 181 0a128.13 128.13 0 0 1 0 181z"
                    class="fa-secondary"></path>
                <path fill="currentColor" d="M352 256a96 96 0 1 1-96-96 96.15 96.15 0 0 1 96 96z" class="fa-primary">
                </path>
            </g>
        </svg>
    </div>
</div>
<menu-toggler style="visibility: visible;">
    <div id="open" class="item  mega-dropdown" style="border-radius: 0 15px 15px 0;">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 32 32"
            style="enable-background:new 0 0 32 32;" xml:space="preserve">
            <g>
                <path fill="currentColor" d="M16,10c1.7,0,3-1.3,3-3s-1.3-3-3-3s-3,1.3-3,3S14.3,10,16,10z" />
                <path fill="currentColor" d="M16,13c-1.7,0-3,1.3-3,3s1.3,3,3,3s3-1.3,3-3S17.7,13,16,13z" />
                <path fill="currentColor" d="M16,22c-1.7,0-3,1.3-3,3s1.3,3,3,3s3-1.3,3-3S17.7,22,16,22z" />
            </g>
        </svg>
    </div>
    <div id="close" class="item mega-dropdowns" style="border-radius: 0 15px 15px 0; display: none;">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 72.434 72.44"
            style="enable-background:new 0 0 72.434 72.44;" xml:space="preserve">
            <path style="fill:currentColor;" d="M36.22,0C16.212,0,0,16.216,0,36.227c0,19.999,16.212,36.214,36.22,36.214
       c20.011,0,36.214-16.215,36.214-36.214C72.434,16.215,56.231,0,36.22,0z M52.058,46.82c1.379,1.424,0.953,4.078-0.959,5.932
       c-1.911,1.854-4.577,2.209-5.959,0.785l-9.027-9.295l-9.298,9.027c-1.421,1.379-4.075,0.947-5.929-0.961s-2.206-4.574-0.785-5.956
       l9.298-9.027l-9.027-9.298c-1.379-1.421-0.946-4.078,0.962-5.932c1.905-1.851,4.577-2.204,5.953-0.785l9.027,9.297l9.301-9.023
       c1.424-1.382,4.078-0.95,5.929,0.958c1.857,1.908,2.206,4.577,0.785,5.959l-9.295,9.024L52.058,46.82z" />
        </svg>
    </div>
</menu-toggler>

<div id="mega" class="mega-menu" style="visibility: hidden;">
    <div class="mega-main">
        <section>
            <h3>Content</h3>
            <ul>
                <li><a href="/snippets">Quick Snippets</a></li>
                <li><a href="/books">Books</a></li>
                <li><a href="/tags">#tags</a></li>
            </ul>
        </section>
        <section>
            <h3>Tags</h3>
            <ul>
                <li><a href="/tags/python">#python</a></li>
                <li><a href="/tags/aws">#aws</a></li>
                <li><a href="/tags/firebase">#firebase</a></li>
                <li><a href="/tags/python">#pelican</a></li>
            </ul>
        </section>
        <section>
            <h3>CloudBytes@</h3>
            <ul>
                <li><a href="http://github.com/CloudBytesDotDev">Github</a></li>
            </ul>
        </section>
    </div>
    <div class="row mega-footer">
        <span>CloudBytes</span> <a href="/terms">Terms</a> <a href="/privacy">Privacy</a>
    </div>
</div>
<div id="search" class="modal-overlay modal-show" style="visibility: hidden;">
    <div class="algolia-hits">
        <div class="algolia-form-wrap">
            <input placeholder="Search for bytes ..." type="text" id="algolia-input" class="algolia-input"
                autocomplete="off" />
            <span id="search-close" class="algolia-close btn btn-red">X</span>
        </div>
    </div>
</div><!--End Topnav-->
    </nav>
    <!--Top nav-->
    <script>
        // Theme toggler
        const themeNext = {
            dark: "light",
            light: "dark"
        };
        var theme = "dark";
        if (localStorage.getItem('theme')) {
            theme = localStorage.getItem('theme');
        }
        document.body.classList.remove('dark-theme', 'light-theme');
        document.body.classList.add(theme + '-theme');
        document.getElementById(themeNext[theme]).style.display = "flex";
        document.getElementById(theme).style.display = "none";
        // Theme button events
        var switchTheme = document.getElementById('themeButton');
        var toggleLight = document.getElementById('light');
        var toggleDark = document.getElementById('dark');
        switchTheme.addEventListener('click', function (e) {
            e.preventDefault();
        });
        toggleLight.addEventListener('click', function (e) {
            e.preventDefault();
            document.body.classList.add('light-theme');
            document.body.classList.remove('dark-theme');
            localStorage.setItem('theme', 'light');
            toggleLight.style.display = "none";
            toggleDark.style.display = "flex";
        });
        toggleDark.addEventListener('click', function (e) {
            e.preventDefault();
            document.body.classList.add('dark-theme');
            document.body.classList.remove('light-theme');
            localStorage.setItem('theme', 'dark');
            toggleLight.style.display = "flex";
            toggleDark.style.display = "none";
        });
    </script>
    <!-- Navbar -->
    <nav class="navbar">
<a href="/" id="home" class="item logo" style="opacity: 1;">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="home" class="svg-inline--fa fa-home fa-w-18"
        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
        <path fill="currentColor"
            d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z">
        </path>
    </svg>
    <span class="item-label tag tag-contrast tag-sm">Home</span>
</a>
<a href="/snippets" id="snippets" class="item">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="code" class="svg-inline--fa fa-code fa-w-20"
        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
        <path fill="currentColor"
            d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z">
        </path>
    </svg>
    <span class="item-label tag tag-contrast tag-sm">How-to Articles</span>
</a>
<a href="/books" id="books" class="item">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="book" class="svg-inline--fa fa-book fa-w-14"
        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path fill="currentColor"
            d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z">
        </path>
    </svg>
    <span class="item-label tag tag-contrast tag-sm">Publications</span>
</a>
<a href="/tags" id="tags" class="item">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="tags" class="svg-inline--fa fa-tags fa-w-20"
        role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
        <path fill="currentColor"
            d="M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z">
        </path>
    </svg>
    <span class="item-label tag tag-contrast tag-sm">Tags</span>
</a>    </nav>
    <!-- End Navbar -->

    <!-- Main Section -->
    <main>
<article class="content-pad">
    <div class="content-main">
        <section class="content-article">
<h1 id="title" class="article-title">Auto Deploy Pelican Websites to Firebase Hosting</h1>
<div class="article-byline">
    <em>by <a href="/authors/rehan-haider">Rehan Haider</a>, Tue 13 July 2021</em>
    <span>
        <strong>Category</strong>:
        <a href="/snippets" class="tag tag-snippets">
            Snippets
        </a>
    </span>
</div>            <article id="content">
                <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#the-workflow">The workflow</a></li>
<li><a href="#1-setting-up-pelican">1. Setting up Pelican</a></li>
<li><a href="#2-create-configure-the-firebase-project">2. Create &amp; configure the Firebase Project</a></li>
<li><a href="#3-create-github-secrets">3. Create GitHub Secrets</a><ul>
<li><a href="#31-get-the-service-account-json">3.1 Get the Service Account JSON</a></li>
<li><a href="#32-store-the-secret-in-github-secrets">3.2 Store the secret in GitHub Secrets</a></li>
</ul>
</li>
<li><a href="#4-create-the-action-to-deploy-automatically-to-firebase-hosting">4. Create the action to deploy automatically to Firebase Hosting</a></li>
<li><a href="#5-push-the-code-to-github-and-watch-the-fun-unfold">5. Push the Code to GitHub and watch the fun unfold</a></li>
</ul>
</div>
<p>In a previous article I wrote about <a href="http://localhost:8080/snippets/automate-deployment-of-pelican-website-to-github-pages">how you can host a simple Pelican static website on Github Pages</a> and automate the deployment process using Github Action. </p>
<p>GitHub Pages is brilliant and extremely useful for a simple blog or small webites, but quickly becomes limited in features if you're trying to build anything serious. </p>
<p>For starters, if you recall from the <a href="http://localhost:8080/snippets/what-is-jamstack-and-why-should-you-be-using-it">Jamstack explanation</a> and its principles, you rely on third party APIs. E.g. if you want to build a user management system into your website you will need to use a Auth API from a third party such as Okta, Azure, or AWS. </p>
<p>This is where Firebase has a massive advantage by providing an integrated end to end development framework. Thus if you want to build more dynamic features into your Pelican / Jamstack website, you may want to use Firebase for your hosting purposes. </p>
<p>In this guide, we will discuss how to setup Continous Deployments (CD) to Firebase Hosting so that your changes are deployed automatically on <code>git push</code>. </p>
<h2 id="getting-started">Getting started</h2>
<p>After discovering VSCode devcontainers, I've just stopped using Python's virtual environment. So we will use devcontainers to clone the repository and prepare the development environment. </p>
<p>So in this tutorial, we will</p>
<ol>
<li>Set up the Pelican development environment insite a container and make a simple webpage using the default theme</li>
<li>Create a Firebase project that will be used to host the website</li>
<li>Create GitHub secrets that will be used to deploy the Pelican output to Firebase Hosting</li>
<li>Then create the action to deploy automatically to Firebase Hosting</li>
<li>Push the codebase back to GitHub repository &amp; watch the fun unfold</li>
</ol>
<h2 id="the-workflow">The workflow</h2>
<p>We will use the following setup &amp; automation to automate the deployment process.
<img alt="pelican ci cd" src="http://localhost:8080/images/99999992-pelican-ci-cd.png"></p>
<h2 id="1-setting-up-pelican">1. Setting up Pelican</h2>
<p>Use the instructions in <a href="http://localhost:8080/snippets/beginners-guide-to-installing-pelican-in-a-container">this guide on how to install Pelican in a VSCode devcontainer</a> and create a small blog. </p>
<p>Then capture your dependencies by running</p>
<div class="highlight"><pre><span></span><code>pip freeze &gt; requirements.txt
</code></pre></div>

<h2 id="2-create-configure-the-firebase-project">2. Create &amp; configure the Firebase Project</h2>
<p>Visit the <a href="https://firebase.google.com/">Firebase Console Home</a> page and register for an account, or sign-in if you already have an account. After that, click on "<em>Create a Project</em>". </p>
<p><img alt="Create a firebase project" src="http://localhost:8080/images/99999992-firebase-create-project.png"></p>
<p>Give your project a name and then follow the instructuions to complete the setup.</p>
<p>After that you need to create two filê in workspace</p>
<p><code>.firebaserc</code>: Contains the project list and aliases. If you open it you would see something like</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;projects&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;your project name&gt;&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Instead of "cloudbytes-prod" you should see the project you chose during the configuration.</p>
<p><code>firebase.json</code>: Contains the configuration of your services, </p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;hosting&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;public&quot;</span><span class="p">:</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span>
    <span class="nt">&quot;ignore&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;firebase.json&quot;</span><span class="p">,</span>
      <span class="s2">&quot;**/.*&quot;</span><span class="p">,</span>
      <span class="s2">&quot;**/node_modules/**&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="3-create-github-secrets">3. Create GitHub Secrets</h2>
<p><a href="https://docs.github.com/en/actions/reference/encrypted-secrets">GitHub Secrets</a> is GitHub's Key Management System (KMS) that excrypts and stores API keys so it can be used in your projects without being visible to anybody, even you. </p>
<p>We need to store the credentials to Firebase Hosting Project as a secret in GitHub so it can be used to push your code directly to Firebase. </p>
<p>To do that </p>
<h3 id="31-get-the-service-account-json">3.1 Get the Service Account JSON</h3>
<p>Go to Firebase -&gt; Select your Project -&gt; Click on the ⚙ Settings icon on the left navigation page, then click on <em>Project Settings</em>. </p>
<p>Then click on the <em>Service accounts</em> tab, this will create a Service Account for your project. Service Account credentials are used to interact with Firebase Services. </p>
<p>Scroll to the bottom -&gt; Click on <em>Generate new private key</em> then in the popup box, click again on <em>Generate key</em>. </p>
<p>You will be prompted to save the file ending in <code>.json</code> extension. </p>
<div class="admonition danger">
<p class="admonition-title">WARNING: Never share or upload this service account credentials including in GitHub repository</p>
</div>
<p>The right way to handle such credentials is via encrypted secrets. </p>
<h3 id="32-store-the-secret-in-github-secrets">3.2 Store the secret in GitHub Secrets</h3>
<p>Open you GitHub repository and on the <code>Settings</code> tab, scroll down and click on <code>Secrets</code> in the navigation pange on left. </p>
<p>Then click on <code>New repository secret</code> button on the top right. Give it any memorable name, e.g. <code>FIREBASE_SERVICE_ACCOUNT</code> and paste the contents of the service account file that you download in previos section then click <code>Add secret</code> to save. </p>
<p><img alt="Github Repository Secret" src="http://localhost:8080/images/99999992-github_repository_secret.png"></p>
<h2 id="4-create-the-action-to-deploy-automatically-to-firebase-hosting">4. Create the action to deploy automatically to Firebase Hosting</h2>
<p>Now we have all the building blocks ready, except the GitHub action definition. In VSCode, create a file at the path <code>.github/workflows/deploy-to-firebase.yml</code>.</p>
<p>Add the following content in the file</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deploy</span>

<span class="nt">on</span><span class="p">:</span>
  <span class="nt">push</span><span class="p">:</span>
    <span class="nt">branches</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">main</span>

<span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">build_and_deploy</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
    <span class="nt">steps</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>
    <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">rehanhaider/pelican-build-action@v0.1.11</span>
      <span class="nt">env</span><span class="p">:</span>
        <span class="nt">PELICAN_CONFIG_FILE</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app/publishconf.py</span>
        <span class="nt">PELICAN_CONTENT_FOLDER</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">app/content</span>
    <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">FirebaseExtended/action-hosting-deploy@v0</span>
      <span class="nt">with</span><span class="p">:</span>
        <span class="nt">repoToken</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">secrets.GITHUB_TOKEN</span><span class="nv"> </span><span class="s">}}&#39;</span>
        <span class="nt">firebaseServiceAccount</span><span class="p">:</span> <span class="s">&#39;${{</span><span class="nv"> </span><span class="s">secrets.FIREBASE_SERVICE_ACCOUNT}}&#39;</span>
        <span class="nt">channelId</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">live</span>
        <span class="nt">projectId</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;enter your project id&gt;</span>
</code></pre></div>

<p>YAML is a declarative syntax where it is easy to understand what is going on. 
In the first part above, we define that the action will work <code>on</code> <code>push</code> into the <code>main</code> <code>branch</code> of your GitHub repository. </p>
<p>Then we created a <code>job</code>, and named it <code>build_and_deploy</code> that will run on <code>ubuntu-latest</code> version of operating system. </p>
<p>After that we defined the <code>steps</code> that need to be followed which are, </p>
<ol>
<li>Use <code>actions/checkout@v2</code> to access the branch of your repository which contains your code</li>
<li>Use another action that I built named <code>rehanhaider/pelican-build-action@v0.1.11</code> that will install all of your dependencies stored in <code>requirements.txt</code> and execute the <code>pelican content</code> command to generate the output in a folder named <code>output</code></li>
<li>The above action is performed using the environmental variables under <code>env</code> that contains the path to the config file and the content folder where the markdown content is stored. </li>
<li>Finally, we use official Firebase action to deploy the contents of <code>output</code> folder that the action will create into Firebase hosting </li>
<li>The above action will be performed with a <code>repoToken</code> that is provided by GitHub automatically, the <code>FIREBASE_SERVICE_ACCOUNT</code> credentials that we stored in previous section, into the <code>live</code> channel and finally the <code>projectId</code> that you should change to the name of the project you had created on Firebase</li>
</ol>
<h2 id="5-push-the-code-to-github-and-watch-the-fun-unfold">5. Push the Code to GitHub and watch the fun unfold</h2>
<p>Open the VSCode terminal and run the below command to add all your files to your GitHub repository tracking</p>
<div class="highlight"><pre><span></span><code>git add .
</code></pre></div>

<p>Commit your changes to the repository by running</p>
<div class="highlight"><pre><span></span><code>git commit -m <span class="s2">&quot;My cool comment&quot;</span>
</code></pre></div>

<p>Then push your code to the GitHub by running</p>
<div class="highlight"><pre><span></span><code>git push
</code></pre></div>

<p>Now go to GitHub.com and browse to your repository page, click on <code>Actions</code> tab you will see the action being executed. Click on the action to see more details. </p>
<p><img alt="Github action success results" src="http://localhost:8080/images/99999992-github_action_results.png"></p>
<p>Now your Pelican Blog is setup for auto deployment to firebase, everytime you push your code.</p>
            </article>
            <h5>Need Help? <a href="https://github.com/CloudBytesDotDev/CloudBytes.dev/discussions">Open a discussion
                    thread on GitHub</a>.</h5>
<div class="article-tags">
    <a href="/tags/firebase"><span class="tag tag-firebase">#firebase</span></a>
    <a href="/tags/python"><span class="tag tag-python">#python</span></a>
    <a href="/tags/pelican"><span class="tag tag-pelican">#pelican</span></a>
</div>            <hr>
<div>
    <h3 style="margin: 10px 0;">Related Posts</h3>
</div>
<div class="chapters-list">
    <div class="chapters-wrap">
        <a href="/snippets/firebase-hosting-redirects-using-wildcard">
            <div class="box box-sm chapter-item">
                <i class="box-icon">
                    <div>
                        <i class="emoji">📄</i>
                    </div>
                </i>
                <div class="box-content">
                    <span class="subtext">Firebase Hosting Redirects using Wildcard</span>
                </div>
            </div>
        </a>
        <a href="/snippets/configure-firebase-hosting-emulator">
            <div class="box box-sm chapter-item">
                <i class="box-icon">
                    <div>
                        <i class="emoji">📄</i>
                    </div>
                </i>
                <div class="box-content">
                    <span class="subtext">Configure Firebase hosting emulator</span>
                </div>
            </div>
        </a>
        <a href="/snippets/launching-pelican-algolia-plugin-for-pelican">
            <div class="box box-sm chapter-item">
                <i class="box-icon">
                    <div>
                        <i class="emoji">📄</i>
                    </div>
                </i>
                <div class="box-content">
                    <span class="subtext">Launching Pelican Algolia plugin for Pelican</span>
                </div>
            </div>
        </a>
        <a href="/snippets/limit-article-tags-to-allowed-list-in-pelican-ssg">
            <div class="box box-sm chapter-item">
                <i class="box-icon">
                    <div>
                        <i class="emoji">📄</i>
                    </div>
                </i>
                <div class="box-content">
                    <span class="subtext">Limit article tags to allowed list in Pelican SSG</span>
                </div>
            </div>
        </a>
        <a href="/snippets/build-cicd-pipelines-using-artifacts-with-github-actions">
            <div class="box box-sm chapter-item">
                <i class="box-icon">
                    <div>
                        <i class="emoji">📄</i>
                    </div>
                </i>
                <div class="box-content">
                    <span class="subtext">Build CI/CD pipelines using artifacts with GitHub Actions</span>
                </div>
            </div>
        </a>
    </div>
</div>
        </section>
    </div>

</article>
        <aside class="sidebar">
<div class="recourse" style="text-align:center">
    <div class="box chapter-item">
        <div class="box-content">
            <a href="https://click.linksynergy.com/link?id=zOWbNCBDzko&offerid=1060092.1247828&type=2&murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fthe-complete-angular-master-class%2F" rel="nofollow" style="text-decoration:none">
                <div>
                    <h3 style="border-bottom: 2px white;">📽️ Curated Tutorial</h3>
                    <hr style="border-color:var(--text-color)">
                    <hr style="border-color:var(--text-color)">
                </div>
                <div class=" banner">
                    <IMG border=0 src="https://img-c.udemycdn.com/course/480x270/1247828_32bb.jpg">
                    <h4>
                        The Complete Angular Course: Beginner to Advanced
                    </h4>
                    <p style="font-size:.75em">
                        Learn Angular from scratch and build powerful web applications with the latest tools.!
                    </p>
                    <h4>
                        <u>Click Here for more info!</u>
                    </h4>
                </div>
            </a>
            <IMG border=0 width=1 height=1 src="https://ad.linksynergy.com/fs-bin/show?id=zOWbNCBDzko&bids=1060092.1247828&type=2&subid=0">
        </div>
    </div>
</div>
        </aside>
    </main>
    <!-- End of Main Section -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- Footer -->

    <footer>
<div class="footer-row">
    <h3>Want to improve this guide? Submit your changes on <a
            href="https://github.com/CloudBytesDotDev/CloudBytes.dev/tree/main/content/articles/99999992-automate-pelican-firebase-hosting.md">GitHub.</a>
    </h3>
    <p class="copyright">Copyright &copy; 2020 - 2022 CloudBytes. All rights reserved.</p>
    <ul>
        <li class="footer-nav"><a href="/terms">Terms</a></li>
        <li class="footer-nav"><a href="/privacy">Privacy Policy</a></li>
        <li class="footer-nav"><a href="/sitemap.xml">Sitemap</a></li>
    </ul>
</div>    </footer>
</body>
<!-- Include AlgoliaSearch JS Client and autocomplete.js library -->
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<!-- Initialize autocomplete menu -->
<script>
    var client = algoliasearch("XE8PCLJHAE", "ec75de1d8ce87dee234a2fd47cec2d76");
    var index = client.initIndex('cloudbytes_dev');
    //initialize autocomplete on search input (ID selector must match)
    autocomplete('#algolia-input',
        { hint: false }, {
        source: autocomplete.sources.hits(index, { hitsPerPage: 10 }),
        //value to be displayed in input control after user's suggestion selection
        displayKey: 'title',
        //hash of templates used when rendering dataset
        templates: {
            //'suggestion' templating function used to render a single suggestion
            suggestion: function (suggestion) {
                return '<a class="algolia-hit" href="/' + suggestion.url + '">' +
                    '<h4>' +
                    '<span class="hit-title">' + suggestion._highlightResult.title.value + '</span>' +
                    '</h4>' +
                    '</a>'
            }
        }
    });
</script>

</html>